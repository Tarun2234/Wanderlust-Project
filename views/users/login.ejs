<% layout("/layouts/boilerplate") %>

<div class="d-flex justify-content-center align-items-center vh-100 bg-white">
  <div class="card auth-card border rounded-4 p-4" style="max-width: 450px; width: 100%;">
    <div class="text-center mb-4">
      <h2 class="fw-bold" style="color: #fe424d;">Welcome Back!</h2>
      <p class="text-muted">Login to continue your Wanderlust journey üåç</p>
    </div>

    <form action="/login" method="POST" class="needs-validation" novalidate>
      <!-- Username -->
      <div class="mb-3">
        <label for="username" class="form-label fw-semibold">Username</label>
        <input name="username" id="username" type="text" class="form-control rounded-3" placeholder="Enter your username" required>
      </div>

      <!-- Password -->
      <div class="mb-4">
        <label for="password" class="form-label fw-semibold">Password</label>
        <div class="input-group">
          <input name="password" id="password" type="password" class="form-control rounded-start-3" placeholder="Enter your password" required>
          <button type="button" id="togglePassword" class="btn border border-start-0 rounded-end-3 eye-btn" tabindex="-1">
            <i class="fa-solid fa-eye"></i>
          </button>
        </div>
      </div>

      <!-- Submit -->
      <button class="btn w-100 rounded-3 py-2 fw-semibold" style="background-color: #fe424d; color: white;">Login</button>

      <p class="text-center text-muted mt-3 mb-0">
        Don‚Äôt have an account?
        <a href="/signup" style="color: #fe424d;" class="text-decoration-none fw-semibold">Sign up</a>
      </p>
    </form>
  </div>
</div>

<script>
  const toggleBtn = document.getElementById("togglePassword");
  const passwordInput = document.getElementById("password");

  toggleBtn.addEventListener("click", () => {
    const isPassword = passwordInput.type === "password";
    passwordInput.type = isPassword ? "text" : "password";
    toggleBtn.innerHTML = isPassword
      ? '<i class="fa-solid fa-eye-slash"></i>'
      : '<i class="fa-solid fa-eye"></i>';
  });
</script>

<style>
  /* Card styling */
  .auth-card {
    border: 1px solid rgba(0, 0, 0, 0.1) !important;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
  }

  .auth-card:hover {
    box-shadow: 0 12px 32px rgba(0, 0, 0, 0.08);
  }

  /* Input highlight */
  .form-control:focus,
  .input-group:focus-within .form-control,
  .input-group:focus-within .btn {
    border-color: #fe424d !important;
    box-shadow: 0 0 0 0.2rem rgba(254, 66, 77, 0.25) !important;
  }

  /* Eye button styling */
  .eye-btn {
    background: transparent !important;
    color: #6c757d;
  }

  .eye-btn:hover,
  .eye-btn:focus {
    color: #fe424d !important;
    background: transparent !important;
    box-shadow: none !important;
  }

  /* Remove double outline on button */
  .btn:focus {
    outline: none !important;
    box-shadow: none !important;
  }
</style>
